<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="css/style.css">

  
    
<link rel="stylesheet" href="fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="index.html" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="index.html">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Data-Warehousing-Granularity-and-Levels-of-Aggregation" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/" class="article-date">
  <time class="dt-published" datetime="2021-04-15T23:57:22.000Z" itemprop="datePublished">2021-04-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/">Data Warehousing Granularity and Levels of Aggregation</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Aggregation"><a href="#Aggregation" class="headerlink" title="Aggregation"></a>Aggregation</h3><p>The central concept of data warehousing is <strong>Aggregation</strong>.<br>Aggregate values have different levels of granularity, for example, Total Sales per Year has lower granularity than Total Sales per Quarter. (可以想象，当我们做图形时，年销量要比季销量的点少，1:4，所以说年销量的粒度比较低。). We use the term Levels of Aggregation, based on the foundation of Data Warehouse Granularity.</p>
<blockquote>
<p>Computer Lab Usage Case Study<br><img src="https://raw.githubusercontent.com/savannah1099/hexo.github.io/master/2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/1.png" alt="E/R Diagram"><br><img src="https://github.com/savannah1099/hexo.github.io/blob/master/2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/2.png?raw=true" alt="Star Schema"></p>
</blockquote>
<ul>
<li>With this <em>precomputed aggregate value</em>, the retrieval of Num of Logins can be done more efficiently.</li>
<li>When we want to drill down (查看更多细节的数据总结，例如每天销量最高的时段)， return to operational database is not so desirable, on the other hand, the fact table has not stored this kind of infomation. Thus, we need <strong>Granularity</strong> which consists of a number of granularity layers (降级处理层面，类似与分解不同纬度)。 <strong>Level 0</strong> contains the most details data (<em>where no aggregation exists 这里就类似与E/R diagram, 但是两者的结构不同，前者为star schema</em>), higher level lower granularity， then higher the level of aggregation (level的数计是从0往上排序的，我们通常只能区分0或者非0).</li>
</ul>
<hr>
<h5 id="There-are-two-ways-to-lower-the-level-of-aggregations-of-a-star-schema-common-method"><a href="#There-are-two-ways-to-lower-the-level-of-aggregations-of-a-star-schema-common-method" class="headerlink" title="There are two ways to lower the level of aggregations of a star schema (common method)."></a>There are two ways to lower the level of aggregations of a star schema (common method).</h5><p>Add a new dimension<br>Replace an existing dimension with a higher granularity dimension.<br><strong>本质上就是添加更多细节，降低维度–&gt; which means more details.</strong></p>
<p>THe only rule is that level(x+1) star chema is more aggregated than levels x star schema. Moreover, ther could be more than one star shema in each level. For example, Level-0 has one star schema, but Level-1 might have 5 star schemas, and Level-2 might have 10 star schemas. (整合程度越高， 可能的组合就越多。)</p>
<h5 id="Another-way-is-starting-from-Level-0-by-converting-an-E-R-diagram-into-a-star-schema-structure"><a href="#Another-way-is-starting-from-Level-0-by-converting-an-E-R-diagram-into-a-star-schema-structure" class="headerlink" title="Another way is starting from Level-0 by converting an E/R diagram into a star schema structure."></a>Another way is starting from Level-0 by converting an E/R diagram into a star schema structure.</h5><hr>
<h5 id="Dashboard"><a href="#Dashboard" class="headerlink" title="Dashboard"></a>Dashboard</h5><p>The upper-level star schema is often implemented as a dashboard (有下拉条的控制面板之类的).</p>
<dl>
  <dt>Level-0 star schema</dt>
  <dd>implemented by the <strong>create table statements</strong> in SQL.</dd>

  <dt>The upper-level star schemas</dt>
  <dd>impleneted as view by <strong>create view statements</strong> in SQL.</dd>
</dl>

<hr>
<h5 id="Facts-without-Fact-Measures"><a href="#Facts-without-Fact-Measures" class="headerlink" title="Facts without Fact Measures"></a>Facts without Fact Measures</h5><p>Facts without fact measures are only possible if the fact measure is a count, such as Num of Logins in this case, but if it is ‘sum’, then Level-0 star schema mush still include the fact measure.<br><img src="https://raw.githubusercontent.com/savannah1099/hexo.github.io/master/2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/3.png" alt="Level-0 Fact Table"><br><img src="https://github.com/savannah1099/hexo.github.io/blob/master/2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/4.png?raw=true" alt="Facts without Fact Measures"></p>
<blockquote>
<p>Purchase Order Case Study<br><img src="https://raw.githubusercontent.com/savannah1099/hexo.github.io/master/2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/5.png" alt="Purchase Order E/R Diagram"><br><img src="https://github.com/savannah1099/hexo.github.io/blob/master/2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/6.png?raw=true" alt="Purchase Order Star Schema-High Level of Aggregation"></p>
</blockquote>
<p>Product is an abstraction and Item is a physical item (1-m, 一对多的关系，例如护肤品分好多items.)<br>当我们从高level降到低level的时候，可能去合并已经存在的dimensions到一个新的dimension中， 从而控制每条记录的数量达到最低。<br>需要注意的是拥有最低粒度的dimension并不意味着fact easures不能进一步拆解， 我们需要回到E/R diagram中再次进行校对。</p>
<hr>
<h5 id="Understanding-the-Relationship-between-Transactions-and-Fact-Measures"><a href="#Understanding-the-Relationship-between-Transactions-and-Fact-Measures" class="headerlink" title="Understanding the Relationship between Transactions and Fact Measures"></a>Understanding the Relationship between Transactions and Fact Measures</h5><p>其实就是看要求的需要记录的record的粒程度，例如， 如果只要求product的交易量， 那么item就无需包含在内，如是需要item，则需要降维到Item的层面。前面的情况如果需要在报告中添加item的信息，则可以用bridge table来获取信息。</p>
<hr>
<p>Reference:<br>Carlos, C., &amp; Steven, M. (2016). Database systems : Design, implementation, &amp; management. ProQuest Ebook Central <a target="_blank" rel="noopener" href="https://ebookcentral.proquest.com/">https://ebookcentral.proquest.com</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/" data-id="cknjjovkb0000clek2ps6flk5" data-title="Data Warehousing Granularity and Levels of Aggregation" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="2021/04/15/hello-world/" class="article-date">
  <time class="dt-published" datetime="2021-04-15T10:08:26.308Z" itemprop="datePublished">2021-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="2021/04/15/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/04/15/hello-world/" data-id="cknit2jzq0001dkeke9gn63he" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="archives/2021/04/">April 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="2021/04/16/Data-Warehousing-Granularity-and-Levels-of-Aggregation/">Data Warehousing Granularity and Levels of Aggregation</a>
          </li>
        
          <li>
            <a href="2021/04/15/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="index.html" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="js/jquery-3.4.1.min.js"></script>



  
<script src="fancybox/jquery.fancybox.min.js"></script>




<script src="js/script.js"></script>





  </div>
</body>
</html>